# include "gsrs-core.conf"
include "substances-core.conf"
gsrs.validators.clinicaltrialus = [
            {
                "validatorClass" = "gov.nih.ncats.clinicaltrial.us.validators.GeneralTrialOnCreateValidator",
                "newObjClass" = "gov.nih.ncats.clinicaltrial.us.models.ClinicalTrialUS",
            },
            {
                "validatorClass" = "gov.nih.ncats.clinicaltrial.us.validators.GeneralTrialOnUpdateValidator",
                "newObjClass" = "gov.nih.ncats.clinicaltrial.us.models.ClinicalTrialUS",
            },
            {
                "validatorClass" = "gov.nih.ncats.clinicaltrial.us.validators.GeneralSubstancesValidator",
                "newObjClass" = "gov.nih.ncats.clinicaltrial.us.models.ClinicalTrialUS",
            },
            {
                "validatorClass" = "gov.nih.ncats.clinicaltrial.us.validators.SubstancesExistValidator",
                "newObjClass" = "gov.nih.ncats.clinicaltrial.us.models.ClinicalTrialUS",
            },
            {
                "validatorClass" = "gov.nih.ncats.clinicaltrial.us.validators.RequiredFieldNonNullValidator",
                 "newObjClass" = "gov.nih.ncats.clinicaltrial.us.models.ClinicalTrialUS",
            },
        ]

gsrs.validators.clinicaltrialeurope = [
            {
                "validatorClass" = "gov.nih.ncats.clinicaltrial.europe.validators.GeneralTrialOnCreateValidator",
                "newObjClass" = "gov.nih.ncats.clinicaltrial.europe.models.ClinicalTrialEurope",
            },
            {
                "validatorClass" = "gov.nih.ncats.clinicaltrial.europe.validators.GeneralTrialOnUpdateValidator",
                "newObjClass" = "gov.nih.ncats.clinicaltrial.europe.models.ClinicalTrialEurope",
            },
            {
                "validatorClass" = "gov.nih.ncats.clinicaltrial.europe.validators.GeneralSubstancesValidator",
                "newObjClass" = "gov.nih.ncats.clinicaltrial.europe.models.ClinicalTrialEurope",
            },
            {
                "validatorClass" = "gov.nih.ncats.clinicaltrial.europe.validators.SubstancesExistValidator",
                "newObjClass" = "gov.nih.ncats.clinicaltrial.europe.models.ClinicalTrialEurope",
            },
            {
                "validatorClass" = "gov.nih.ncats.clinicaltrial.europe.validators.RequiredFieldNonNullValidator",
                 "newObjClass" = "gov.nih.ncats.clinicaltrial.europe.models.ClinicalTrialEurope",
            },
        ]



# gsrs.validators.substance = []

gsrs.entityprocessors = [
{
        "class" = "gov.nih.ncats.clinicaltrial.us.models.ClinicalTrialUS",
		"processor" = "gov.nih.ncats.clinicaltrial.us.entityProcessor.ClinicalTrialUSProcessor"
},
{
        "class" = "gov.nih.ncats.clinicaltrial.europe.models.ClinicalTrialEurope",
		"processor" = "gov.nih.ncats.clinicaltrial.europe.entityProcessor.ClinicalTrialEuropeProcessor"
}
]


mygsrs.substanceAPI.baseUrl = "https://gsrs.ncats.nih.gov/"
mygsrs.clinicaltrial.us.substance.linking.keyType.value = "UUID"
mygsrs.clinicaltrial.us.substance.linking.keyType.agencyCodeValue = "BDNUM"

mygsrs.clinicaltrial.us.ClinicalTrial.trialNumberPattern = "^NCT\\d+$"
mygsrs.clinicaltrial.us.substanceKeyPatternRegex = "^[-0-9a-f]{36}$"
mygsrs.clinicaltrial.us.agencySubstanceKeyTypeValue = "BDNUM";
mygsrs.clinicaltrial.us.skipSubstanceValidation = false

mygsrs.clinicaltrial.eu.ClinicalTrialEurope.trialNumberPattern = "^\\d{4}-\\d{6}-\\d{2}-[A-Z]{2}$"
mygsrs.clinicaltrial.eu.substanceKeyPatternRegex = "^[-0-9a-f]{36}$"
mygsrs.clinicaltrial.eu.agencySubstanceKeyTypeValue = "BDNUM";
mygsrs.clinicaltrial.eu.skipSubstanceValidation = false


# mysql
# spring.clinicaltrial.jdbcUrl="jdbc:mysql://localhost:3301/gsrs3dev?serverTimezone=UTC"
# spring.clinicaltrial.username=gsrs3dev
# spring.clinicaltrial.password=gsrs3dev
# spring.clinicaltrial.driver-class-name=com.mysql.cj.jdbc.Driver

# H2
# spring.h2.console.enabled=true
# spring.h2.console.path="/h2-console"
# spring.datasource.url="jdbc:h2:mem:testdb;DB_CLOSE_DELAY=- 1;DB_CLOSE_ON_EXIT=FALSE"# spring.h2.console.settings.web-allow-others=true
# spring.h2.console.settings.web-allow-others=true

# ... or ...
spring.h2.console.enabled=false
spring.datasource.url="jdbc:h2:file:./data/testdb;AUTO_SERVER=TRUE"

# postgres
# spring.datasource.driver-class-name=org.postgresql.Driver
# spring.datasource.url="jdbc:postgresql://localhost:5432/gsrs3dev"
# spring.datasource.username=gsrs3dev
# spring.datasource.password=gsrs3dev
# spring.jpa.database-platform = gsrs.repository.sql.dialect.GSRSPostgreSQLDialectCustom
# hibernate.connection.characterEncoding=utf8
# spring.datasource.sql-script-encoding=UTF-8

# oracle dev
# spring.datasource.driver-class-name=oracle.jdbc.OracleDriver
# spring.datasource.url="jdbc:oracle:thin:@//D15311532.fda.gov:1532/SRSIDDEV"
# spring.datasource.username=GSRS_PROD
# spring.datasource.password=prd_JAN_2016

# oracle dev
# spring.datasource.driver-class-name=oracle.jdbc.OracleDriver
# note: last item must be case senstive servicename, not SID
# to get service name do: select sys_context('userenv','service_name') from dual;
# spring.datasource.url="jdbc:oracle:thin:@//172.17.0.2:1521/orclpdb1"
# spring.datasource.username=GSRS3DEV2
# spring.datasource.password=GSRS3DEV2
# spring.jpa.database-platform=org.hibernate.dialect.Oracle12cDialect
# sqlplus GSRS3DEV2/GSRS3DEV2@//172.17.0.2:1521/ORCLPDB1

# database generation
spring.jpa.generate-ddl=true
# Hibernate ddl auto (create, create-drop, validate, update)
spring.jpa.hibernate.ddl-auto = create-drop

# debugging help
# debug=true
logging.level.gov.nih.ncats.clinicaltrial.common=debug
spring.jpa.show-sql=true
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=INFO

spring.jpa.properties.javax.persistence.schema-generation.create-source=metadata
spring.jpa.properties.javax.persistence.schema-generation.database.action=create
spring.jpa.properties.javax.persistence.schema-generation.scripts.create-target=create.sql
spring.jpa.properties.javax.persistence.schema-generation.scripts.drop-target=drop.sql
server.servlet.session.cookie.name= "ix.session"